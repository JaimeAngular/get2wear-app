(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(23);n(1336);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._queryDiscount=function(){var e=document.getElementById("identification").value,t=document.getElementById("code").value;e.length>3&&t.length>1?r.api.get("/promo/query",{identification:e,code:t}).then(function(i){if(1==i.exists){var o=1==i.data.valid,a=i.data.discount;a.valid=o,a.code=t,a.identification=e,console.log("discount",a),n.setState({discount:a})}else alert("Este código no es válido")}).catch(function(e){console.log("Error",e),alert("Descuento no encontrado, intentelo de nuevo")}):alert("Debe digitar una identificación y código válidos")},n._resetQuery=function(){n.setState({discount:null})},n._redeemCode=function(){var e=n.state.discount,t=e.beneficiary,i=e.code,o=e.id;r.api.get("/promo/redeem",{beneficiary:t,code:i,discount:o}).then(function(t){1==t.data.status?(e.state=0,n.setState({discount:e})):alert("Ya había sido redimido!")}).catch(function(e){alert("Ocurrió un error, vuelva a intentar")})},n.state={discount:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this.state.discount;return a.default.createElement("div",{className:"main-container redeem-box"},a.default.createElement("h2",null,"Consulta los códigos promocionales"),null==e?a.default.createElement("div",{className:"centered-identification"},a.default.createElement("input",{id:"identification",name:"identification",placeholder:"Cédula o T.I.",type:"number",pattern:"[0-9]*",className:"input-identification-promo"}),a.default.createElement("input",{id:"code",name:"code",placeholder:"Código de descuento",type:"text",className:"input-identification-promo"}),a.default.createElement("div",{style:{marginTop:10}}),a.default.createElement("button",{className:"action-redeem-promo green-button",onClick:this._queryDiscount},"Consultar")):a.default.createElement("div",{className:"centered-identification"},a.default.createElement("p",null,e.producername," - ",e.title),0==e.state?a.default.createElement("p",{className:"notify-green"},"Redimido!"):a.default.createElement("div",null,e.valid?a.default.createElement("p",{className:"notify-pink"},"Disponible"):a.default.createElement("p",null,"Ya no es válido")),null!=e.expiration&&e.valid&&a.default.createElement("p",{className:"notify-pink"},"Vence: ",e.expiration),null!=e.redeemdate&&a.default.createElement("p",{className:"notify-pink"},"Fecha de uso: ",e.redeemdate),a.default.createElement("button",{style:{marginTop:10},className:"action-redeem-promo gray-button",onClick:this._resetQuery},"Cambiar"),e.valid&&e.state>0&&e.state<3&&a.default.createElement("button",{style:{marginTop:10},className:"action-redeem-promo pink-button",onClick:this._redeemCode},"Redimir código")))}}]),t}();t.default=d},1280:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,"@media screen and (min-device-width:800px){.redeem-box{position:relative;width:30%;min-width:350px;max-width:450px;text-align:left;padding:15px;background:#fdfdfd;border-radius:10px}.redeem-box .simulator-title{font-weight:700;font-size:1.3em}.redeem-box select{height:40px;width:300px;line-height:40px;background:#f4f4f4}.redeem-box .earnings{font-size:1.6em;font-weight:700}.redeem-box .rental-price{font-size:1.3em;font-weight:700}.redeem-box .question{font-size:1em}.redeem-box .explanation{margin-top:5px;font-size:.8em}.redeem-box .start-hint{margin-top:2px;font-size:.7em}}@media screen and (max-device-width:800px){.redeem-box{position:relative;width:70%;text-align:left;padding:25px;background:#fdfdfd;border-radius:10px}.redeem-box .simulator-title{font-weight:700;font-size:2.3em}.redeem-box select{height:40px;width:300px;line-height:40px;background:#f4f4f4}.redeem-box .earnings{font-size:2.6em;font-weight:700}.redeem-box .rental-price{font-size:2.3em;font-weight:700}.redeem-box .question{font-size:1.8em}.redeem-box .explanation{margin-top:5px;font-size:1.3em}.redeem-box .start-hint{margin-top:2px;font-size:1.7em}}.redeem-box h2{width:100%;font-size:1.5em;color:#61147d;text-transform:uppercase}.redeem-box .centered-identification,.redeem-box h2{text-align:center}input.input-identification-promo{margin-top:10px;margin-bottom:10px}@media screen and (min-device-width:800px){input.input-identification-promo{width:300px;height:40px;font-size:16pt}.redeem-box .action-redeem-promo{font-size:1.2em;font-weight:700}.redeem-box .centered-identification{padding-top:10px}.redeem-box .centered-identification p{margin-bottom:5px;font-size:1.2em}}@media screen and (max-device-width:800px){input.input-identification-promo{width:400px;height:50px;font-size:20pt}.redeem-box .action-redeem-promo{font-size:1.8em;font-weight:700}.redeem-box .centered-identification{padding-top:20px}.redeem-box .centered-identification p{margin-bottom:7px;font-size:1.6em}}.redeem-box .centered-identification .notify-pink{font-weight:700;color:#be3176}.redeem-box .centered-identification .notify-green{font-weight:700;color:#52cc8c}",""])},1336:function(e,t,n){var i=n(1280);"string"==typeof i&&(i=[[e.i,i,""]]);var o={transform:void 0},a=n(14)(i,o);i.locals&&(e.exports=i.locals),i.locals||e.hot.accept(1280,function(){var t=n(1280);"string"==typeof t&&(t=[[e.i,t,""]]),a(t)}),e.hot.dispose(function(){a()})}}]);