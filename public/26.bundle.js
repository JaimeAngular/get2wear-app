(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1106:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(2),i=c(r),a=c(o(1327)),l=o(23);function c(e){return e&&e.__esModule?e:{default:e}}function d(){alert("Ocurrió un error, intente más tarde o escribanos un correo a alquiler@get2wear.com")}o(1328);var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._obtainCode=function(e){o.setState({redeem:e})},o._doClose=function(){o.setState({redeem:null})},o._unlockDiscount=function(){var e=o.state,t=e.redeem,n=e.promos,r=document.getElementById("identification").value;if(r.length<3)alert("Debe ingresar una identificación válida");else{var i={beneficiary:o.props.user,discount:t.id,identification:r};l.api.get("/promo/unlock",i).then(function(e){var r=e.data.redemption;if(void 0!==r)if(r.state>0){var i=!0,a=!1,l=void 0;try{for(var c,m=n[Symbol.iterator]();!(i=(c=m.next()).done);i=!0){var p=c.value;p.id==t.id&&(p.code=r.code,p.state=r.state)}}catch(e){a=!0,l=e}finally{try{!i&&m.return&&m.return()}finally{if(a)throw l}}o.setState({promos:n,redeem:null})}else d();else d()}).catch(function(e){console.log("Error",e),d()})}},o.state={promos:[],redeem:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;l.api.get("/promo/mydiscounts",{beneficiary:this.props.user}).then(function(t){console.log("promos",t.data.collection),e.setState({promos:t.data.collection})}).catch(function(e){alert("Ocurrio un error")})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"promo-container"},i.default.createElement("div",{className:"promo-header",style:{marginTop:15}},i.default.createElement("h1",null,"Hacemos todo por que tu día sea increible. Disfruta de estos beneficios en moda y belleza"),i.default.createElement("h2",null,"Desbloquea los codigos para que puedas redimir los beneficios en los establecimientos o en los aplicativos. Los codigos son personales e intransferibles.")),i.default.createElement("div",{className:"promos"},this.state.promos.map(function(t,o){return i.default.createElement(a.default,{promo:t,obtainCode:e._obtainCode})})),null!=this.state.redeem&&i.default.createElement("div",null,i.default.createElement("div",{className:"background-overlay-dark"}),i.default.createElement("div",{className:"redeem-promo-modal"},i.default.createElement("span",{className:"close",style:{backgroundImage:"url(https://s3.amazonaws.com/dressapp.public/structure/icons/other/close.png)"},onClick:this._doClose}),i.default.createElement("div",{className:"redemption-section"},i.default.createElement("h2",null,"Generación de códigos"),i.default.createElement("br",null),i.default.createElement(a.default,{promo:this.state.redeem}),i.default.createElement("div",{className:"centered-identification"},i.default.createElement("input",{id:"identification",name:"identification",placeholder:"Cédula o T.I.",type:"number",pattern:"[0-9]*",className:"input-identification-promo"}),i.default.createElement("br",null),i.default.createElement("button",{className:"action-redeem-promo green-button",onClick:this._unlockDiscount},"Generar código promocional"))))))}}]),t}();t.default=m},1276:function(e,t,o){(e.exports=o(13)(!1)).push([e.i,".promo-container{padding-top:80px;padding-bottom:20px;min-height:80vh}.promo-header h1{text-align:left;margin-bottom:10px}@media screen and (min-device-width:800px){.promo-container{padding-left:10vh;padding-right:10vh}.promo-header h1{font-size:2em}.promo-header h2{font-size:1.3em;margin-bottom:20px;line-height:1.2em}}@media screen and (max-device-width:800px){.promo-container{padding-left:3vh;padding-right:3vh}.promo-header h1{font-size:3em}.promo-header h2{font-size:2.1em;margin-top:15px;margin-bottom:35px}}.promos{justify-content:space-between;flex-wrap:wrap;justify-content:left}.one-promo,.promos{display:flex;flex-direction:row}.one-promo-border{border:1px solid #61147d}.one-promo .img-promo-container{display:flex;flex-direction:column}.one-promo .img-promo-container span{text-align:center;margin-bottom:10px;color:#000}.one-promo img{background:no-repeat 50%;background-size:cover;margin-right:15px}@media screen and (min-device-width:800px){.one-promo{padding:7px;width:28vw;min-width:300px;margin-bottom:10px;margin-right:10px}.one-promo img{max-width:110px;max-height:110px}.one-promo .promo-body{font-size:1.1em}}@media screen and (max-device-width:800px){.one-promo{padding:10px;max-width:42vw;margin-bottom:15px;margin-right:15px}.one-promo img{max-width:140px;max-height:140px}.one-promo .promo-body{font-size:1.8em}.promo-action-button{font-weight:700}}.promo-redeem-code{border:1px solid #52cc8c;padding:5px}.promo-body b{font-weight:700}.promo-body a{color:#1f89e5;text-decoration:none}.redeem-promo-modal{position:fixed;display:flex;top:40%;left:50%;transform:translate(-50%,-50%);z-index:10;background:#fff;min-width:700px;box-shadow:1px 1px 10px rgba(0,0,0,.5)}input.input-identification-promo{margin-top:10px;margin-bottom:10px}@media screen and (min-device-width:800px){.redeem-promo-modal{min-width:500px}input.input-identification-promo{width:300px;height:40px;font-size:16pt}.redeem-promo-modal .action-redeem-promo{font-size:1.2em;font-weight:700}}@media screen and (max-device-width:800px){.redeem-promo-modal{min-width:650px}input.input-identification-promo{width:400px;height:50px;font-size:20pt}.redeem-promo-modal .action-redeem-promo{font-size:1.8em;font-weight:700}}.redeem-promo-modal .close{position:absolute;right:-28px;top:-28px;width:55px;height:55px;background:no-repeat;cursor:pointer}.redeem-promo-modal h2{width:100%;font-size:1.5em;color:#61147d;text-transform:uppercase;text-align:center}.redeem-promo-modal .redemption-section{background-color:#f9f9f9;flex:1;display:flex;flex-flow:column;padding:20px}.redeem-promo-modal .redemption-section p{font-size:1.3rem;margin-bottom:10px}.redeem-promo-modal .centered-identification{text-align:center}",""])},1327:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isActionable:void 0!==o.props.obtainCode},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.promo;return i.default.createElement("div",{className:"one-promo"+(this.state.isActionable?" one-promo-border":"")},i.default.createElement("div",{className:"img-promo-container"},null!=e.category&&i.default.createElement("span",null,e.category),i.default.createElement("img",{src:e.producerpicture})),i.default.createElement("div",{className:"promo-body"},i.default.createElement("p",{dangerouslySetInnerHTML:{__html:e.body}}),i.default.createElement("br",null),null!=e.link&&null!=e.linktitle&&i.default.createElement("a",{href:e.link,target:"_blank"},e.linktitle),this.state.isActionable&&i.default.createElement("div",null,i.default.createElement("br",null),0==e.state?i.default.createElement("button",{onClick:this.props.obtainCode.bind(null,e),className:"align-center green-button promo-action-button"},"Obtener código"):1==e.state||2==e.state?i.default.createElement("div",{className:"promo-redeem-code"},i.default.createElement("b",null,"Código: "),e.code):3==e.state?i.default.createElement("div",null,i.default.createElement("b",null,"Redimido: "),e.redeemdate):null),e.state<3&&i.default.createElement("div",{style:{marginTop:10}},i.default.createElement("b",null,"Vence: "),e.expiration)))}}]),t}();t.default=a},1328:function(e,t,o){var n=o(1276);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0},i=o(14)(n,r);n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(1276,function(){var t=o(1276);"string"==typeof t&&(t=[[e.i,t,""]]),i(t)}),e.hot.dispose(function(){i()})}}]);