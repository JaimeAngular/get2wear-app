(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1102:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2),o=d(l),i=a(101),s=d(a(1316)),c=a(407),u=d(a(1274));function d(e){return e&&e.__esModule?e:{default:e}}a(274);a(169);var p=[1,2,5,6,8,9],f=[3,4,7],m=[{id:1,name:"Tela parte superior",options:["Algodón","Seda","Tafeta","Poliester","Licra","Blonda","Satín","Lino","Organza","Gabardina","Franela","Crepé","Tul"]},{id:2,name:"Textura parte superior",options:["Lisa","Drapeada","Plizada","Pliegues","Boleros","Encaje"]},{id:3,name:"Tela parte inferior",options:["Algodón","Seda","Tafeta","Poliester","Licra","Blonda","Satín","Lino","Organza","Gabardina","Franela","Crepé","Tul"]},{id:4,name:"Textura parte inferior",options:["Lisa","Drapeada","Plizada","Pliegues","Boleros","Encaje"]},{id:5,name:"Escote",options:["Al cuello","Corazón","Cuadrado","Cuello Alto","Cuello Bote","En U","en V","Hombros caídos","Joya","Strapless","Tiras","Un solo hombro","Otro"]},{id:6,name:"Corte parte superior",options:["Suelto","Ajustado"]},{id:7,name:"Corte falda o inferior",options:["Suelta","Ajustada","Princesa","Sirena/Trompeta"]},{id:8,name:"Almohadillas",options:["Si tiene","No tiene"]},{id:9,name:"Corses, Varillas laterales o Bustier",options:["Corses","Varillas laterales","Bustier","Bustier","Nada"]},{id:10,name:"Ocasión",options:["Casual","Coctél","Fiesta","Gala","Novia","Madrina","15's","Para usar de día"]}],h={fontSize:18,color:"#61147D"},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(a),console.log("PostulateDescription.props",e);var n=e.title,r=e.brand,l=e.mainColor,o=e.description,i=e.advices;return a.state={step:0,title:n,brand:r,mainColor:l,advices:i,description:o,piecesCount:1,chars:{title:n.length,brand:r.length,mainColor:l.length,description:o.length,advices:i.length}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"componentDidMount",value:function(){console.log("didMount"),this.props.dispatch({type:"tips",payload:{tips:[16]}})}},{key:"render",value:function(){var e=this,t=this.state.piecesCount;return o.default.createElement("div",{className:"align-center"},o.default.createElement("h1",{style:{marginTop:20,marginBottom:20}},"Ultimo paso antes de las fotos"),o.default.createElement("p",{style:h},"Titulo de tu vestido"),o.default.createElement("input",{style:{marginTop:5},className:"postulate-input",type:"text",maxLength:25,defaultValue:this.props.title,onChange:function(t){return e.handleChange(t.target.value,1)}}),o.default.createElement("span",null," ",25-this.state.chars.title+"/25"),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("p",{style:h},"Marca"),o.default.createElement("input",{style:{marginTop:5},className:"postulate-input",type:"text",maxLength:20,defaultValue:this.props.brand,placeholder:"(solo si aplica)",onChange:function(t){return e.handleChange(t.target.value,2)}}),o.default.createElement("span",null," ",20-this.state.chars.brand+"/20"),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("table",null,o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",null,o.default.createElement("p",{style:h},"Color")),o.default.createElement("td",{className:"padding-left-postulate"},o.default.createElement("p",{style:h},"Número de piezas"))),o.default.createElement("tr",null,o.default.createElement("td",null,o.default.createElement("input",{style:{marginTop:5},className:"postulate-input-small",type:"text",maxLength:20,defaultValue:this.props.mainColor,placeholder:"Color principal",onChange:function(t){return e.handleChange(t.target.value,5)}}),o.default.createElement("span",null," ",20-this.state.chars.mainColor+"/20")),o.default.createElement("td",{className:"padding-left-postulate pieces-count"},o.default.createElement("span",{className:"pieces-option "+(1==t?"box-selected":"box-unselected"),onClick:function(t){return e.changePices(1)}},"1"),o.default.createElement("span",{className:"pieces-option "+(2==t?"box-selected":"box-unselected"),onClick:function(t){return e.changePices(2)}},"2"),o.default.createElement("span",{className:"pieces-option "+(3==t?"box-selected":"box-unselected"),onClick:function(t){return e.changePices(3)}},"3"))))),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("div",{id:"qualifiers"},o.default.createElement(s.default,{id:1,onChage:this.changeQualifier}),m.map(function(t,a){return e.canShowQualifier(t.id)?o.default.createElement(s.default,{key:"qualifier"+a,q:t,onChange:e.changeQualifier}):null})),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("p",{style:h},"Descripción"),o.default.createElement("textarea",{style:{marginTop:5},className:"postulate-input",type:"text",maxLength:280,defaultValue:this.props.description,placeholder:"Talla (Talla S USA, Talla 28 MEX). ¿Por qué deberían alquilar tu vestido?",onChange:function(t){return e.handleChange(t.target.value,3)}}),o.default.createElement("p",null," ",280-this.state.chars.description+"/280"),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("p",{style:h},"Consejos de uso"),o.default.createElement("textarea",{style:{marginTop:5},className:"postulate-input",type:"text",maxLength:280,defaultValue:this.props.advices,placeholder:"Cuidados especiales que deban tener con tu vestido o durante en la lavandería. Pequeña descripción de cómo usar la prenda.",onChange:function(t){return e.handleChange(t.target.value,6)}}),o.default.createElement("p",null," ",280-this.state.chars.advices+"/280"),o.default.createElement("div",{style:{marginTop:10}}),o.default.createElement("input",{id:"tyc",type:"checkbox"})," Acepto los ",o.default.createElement("a",{href:"https://s3.amazonaws.com/dressapp.public/structure/documents/Terminos+y+condiciones+GET2WEAR.pdf",target:"_bank"},"términos y condiciones")," de GET2WEAR",o.default.createElement("div",{style:{marginTop:20,marginBottom:20}},o.default.createElement("button",{className:"pink-border-button",onClick:this.goBack},"Atras"),o.default.createElement("span",{style:{marginLeft:30,marginTop:20}}),o.default.createElement("button",{className:"green-button",onClick:this.postulate},"Postular mi vestido")))}}]),t}(),y=function(){var e=this;this.qualifiersFilled=[],this.handleChange=function(t,a){switch(a){case 1:e.setState({title:t,chars:n({},e.state.chars,{title:t.length})});break;case 2:e.setState({brand:t,chars:n({},e.state.chars,{brand:t.length})});break;case 3:e.setState({description:t,chars:n({},e.state.chars,{description:t.length})});break;case 5:e.setState({mainColor:t,chars:n({},e.state.chars,{mainColor:t.length})});break;case 6:e.setState({advices:t,chars:n({},e.state.chars,{advices:t.length})})}},this.saveInfo=function(){var t=e.getQualifiers();console.log("qualifiers",t);var a=e.state,n=a.description,r=a.advices;n+=n.endsWith(".")?"":".";var l=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(l=(s=c.next()).done);l=!0){var u=s.value;n+=" "+u.name+": "+u.option+"."}}catch(e){o=!0,i=e}finally{try{!l&&c.return&&c.return()}finally{if(o)throw i}}console.log("description",n),e.props.dispatch({type:"description",payload:{description:{title:e.state.title,brand:e.state.brand,mainColor:e.state.mainColor,description:n,advices:r,pieces:e.state.piecesCount}}})},this.getQualifiers=function(){var t=[];for(var a in e.qualifiersFilled)e.qualifiersFilled.hasOwnProperty(a)&&t.push(e.qualifiersFilled[a]);return t},this.goBack=function(){e.saveInfo(),e.props.dispatch({type:"back",payload:{}})},this.postulate=function(){e.validateAllInfo()&&(e.saveInfo(),e.props.dispatch({type:"postulate",payload:{}}))},this.validateAllInfo=function(){return 0==e.state.title.length?(alert("Tu vestido necesita un título"),!1):e.state.description.length<40?(alert("Tu vestido necesita una descripción más larga. Mínimo 40 caractéres."),!1):!!document.getElementById("tyc").checked||(alert("Debes aceptar los términos y condiciones"),!1)},this.changePices=function(t){e.setState({piecesCount:t})},this.canShowQualifier=function(t){switch(e.props.type){case 0:return!0;case 1:return!(p.indexOf(t)>-1);case 2:return!(f.indexOf(t)>-1)}},this.changeQualifier=function(t,a,n,r){e.qualifiersFilled["q"+t]={selected:a,name:n,option:r}}};t.default=(0,i.connect)(function(e,t){var a=c.DRESS_TYPES[0],n="",r="",l="",o="";if(null==e.description)try{var i=e.laundrySurvey[0];a=c.DRESS_TYPES[i]}catch(e){a=c.DRESS_TYPES[0]}else{var s=e.description;a=s.title,n=s.brand,r=s.description,l=s.mainColor,o=s.advices}return{type:u.default.getDressType(e),title:a,brand:n,mainColor:l,description:r,advices:o}})(g)},1274:function(e,t,a){"use strict";t.getDressType=function(e){try{switch(e.laundrySurvey[0]){case 3:case 4:case 5:return 1;case 6:return 2;default:return 0}}catch(e){return 0}}},1316:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(2),l=function(e){return e&&e.__esModule?e:{default:e}}(r);var o={fontSize:18,color:"#61147D",marginTop:5,marginBottom:5},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeOption=function(e){var t=e.target.value;a.setState({selected:t});var n=a.props.q,r=n.id,l=n.name,o=n.options;a.props.onChange(r,parseInt(t),l,o[t])},a.state={selected:-1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"loadOption",value:function(e,t,a,n){return l.default.createElement("option",{value:a,selected:n==a,key:"q-"+e+"-o-"+a},t)}},{key:"render",value:function(){var e=this,t=this.props.q;if(void 0===t||null==t)return null;var a=t.id,n=t.name,r=t.options,i=this.state.selected;return l.default.createElement("div",null,l.default.createElement("p",{style:o},n),l.default.createElement("select",{id:"qualifier-select-"+a,onChange:function(t){e.changeOption(t)}},l.default.createElement("option",{disabled:!0,selected:-1==i,value:""},"Seleccione"),r.map(function(t,n){return e.loadOption(a,t,n,i)})))}}]),t}();t.default=i}}]);