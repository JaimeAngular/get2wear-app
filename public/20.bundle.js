(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1100:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2),r=function(e){return e&&e.__esModule?e:{default:e}}(l),i=a(101),s=a(102);a(274);var u={fontSize:18,color:"#61147D"},c=2e4,o=3e5,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.email=null,a.lastRetail=null,a.lastEarning=null,a.getSuggestedEaring=function(e){var t=parseInt(.1*e),a=Math.max(t,c);return a=Math.min(a,o)},a.handleChange=function(e,t){switch(t){case 1:1==a.state.step?(a.setState({step:2}),a.props.dispatch({type:"tips",payload:{tips:[2,3]}})):a.setState({modified:!0}),a.lastRetail=a.currencyInput(e,"retailprice"),e=a.lastRetail;var n=a.getSuggestedEaring(e);a.setState({suggested:(0,s.currency)(n)});break;case 2:2==a.state.step?a.setState({step:3}):a.setState({modified:!0}),a.lastEarning=a.currencyInput(e,"earning");break;case 300:a.email=e}},a.currencyInput=function(e,t){var a=(0,s.getNumberFrom)(e);return document.getElementById(t).value=(0,s.currency)(a),a},a.goBack=function(){a.props.dispatch({type:"back",payload:{}}),a.props.dispatch({type:"tips",payload:{tips:[]}})},a.calculatePricing=function(){a.lastEarning<c?alert("No puedes tener una ganancia inferior a $"+(0,s.currency)(c)):a.lastEarning>o?alert("No puedes tener una ganancia mayor a $"+(0,s.currency)(o)):(a.props.dispatch({type:"basics",payload:{basics:{retail:a.lastRetail,ownerEarning:a.lastEarning}}}),a.setState({modified:!1}))},a.goForward=function(){a.props.dispatch({type:"next",payload:{}})},a.pricingDetails=function(){var e=a.props.pricing;return r.default.createElement("div",null,r.default.createElement("p",{className:"laundry-question cell-padding"},"Precio de alquiler"),null==e?r.default.createElement("img",{src:"https://s3.amazonaws.com/dressapp.public/logos/logo_rotating_small.gif",alt:""}):r.default.createElement("table",{className:"fill-style"},r.default.createElement("tbody",null,r.default.createElement("tr",{style:{fontSize:22,fontWeight:"bold"}},r.default.createElement("td",{className:"cell-padding-s"},"$",(0,s.currency)(e.rentalPrice)," COP"),r.default.createElement("td",{className:"cell-padding-s"},"Valor total alquiler")),r.default.createElement("tr",null,r.default.createElement("td",{className:"cell-padding-s"},"$",(0,s.currency)(e.ownerEarning)," COP (",parseInt(e.ownerEarning/e.rentalPrice*100),"%)"),r.default.createElement("td",{className:"cell-padding-s"},"Tu ganancia")),r.default.createElement("tr",null,r.default.createElement("td",{className:"cell-padding-s"},"+ $",(0,s.currency)(e.rentalPrice-e.ownerEarning)," COP"),r.default.createElement("td",{className:"cell-padding-s"},"Lavandería + Seguros+ Costos logísticos+ Impuestos")),r.default.createElement("tr",{style:{fontSize:17,color:"#be3176",fontWeight:"bold"}},r.default.createElement("td",{className:"cell-padding"},"$",(0,s.currency)(e.backupValue)," COP"),r.default.createElement("td",{className:"cell-padding"},"Valor de respaldo*")))),r.default.createElement("button",{className:"green-button",onClick:a.goForward},"Continuar"))},a.lastRetail=a.props.retail,a.lastEarning=a.props.ownerEarning,a.state={modified:!0,step:null==a.lastRetail?1:null==a.lastEarning?2:3,suggested:null==a.lastRetail?null:(0,s.currency)(a.getSuggestedEaring(a.lastRetail)),email:a.email},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){console.log("didMount"),this.props.dispatch({type:"tips",payload:{tips:1==this.state.step?[2]:2==this.state.step?[2,3]:[]}})}},{key:"render",value:function(){var e=this;return console.log("PostulateBasicas.render(modified)",this.state.modified),r.default.createElement("div",{className:"align-center"},r.default.createElement("h1",{style:{marginTop:20,marginBottom:20}},"Registar informacion"),this.state.step>=1?r.default.createElement("div",null,r.default.createElement("br",{style:{marginTop:10}}),r.default.createElement("p",{style:u},"¿Cuál fue el precio de Retail de tu prenda como nueva?"),r.default.createElement("br",null),r.default.createElement("span",null,"$ "),r.default.createElement("input",{id:"retailprice",placeholder:"1.000.000",type:"text",inputMode:"number",className:"postulate-input",onChange:function(t){return e.handleChange(t.target.value,1)},defaultValue:null==this.props.retail?"":(0,s.currency)(this.props.retail)}),r.default.createElement("span",null," COP")):null,this.state.step>=2?r.default.createElement("div",null,r.default.createElement("br",{style:{marginTop:10}}),r.default.createElement("p",{style:u},"¿Cuanto quieres ganar por cada alquiler?"),r.default.createElement("br",null),r.default.createElement("span",null,"$ "),r.default.createElement("input",{id:"earning",placeholder:this.state.suggested,type:"text",inputMode:"number",className:"postulate-input",onChange:function(t){return e.handleChange(t.target.value,2)},defaultValue:null==this.props.ownerEarning?"":(0,s.currency)(this.props.ownerEarning)}),r.default.createElement("span",null," COP"),r.default.createElement("p",{style:{color:"#BE3176"}},(null!=this.lastEarning?"$ "+this.state.suggested+" es":"Es")+" la ganancia que sugerimos para lograr un precio de alquiler",r.default.createElement("br",null),"aproximado al de otras prendas con el mismo valor en la plataforma")):null,r.default.createElement("br",null),r.default.createElement("br",null),this.state.modified?r.default.createElement("div",null,r.default.createElement("button",{className:"pink-border-button",onClick:this.goBack},"Atras"),r.default.createElement("span",{style:{marginLeft:30,marginTop:20}}),r.default.createElement("br",null),r.default.createElement("br",null),this.state.step>=2&&null!=this.lastEarning&&r.default.createElement("button",{className:"green-button",onClick:this.calculatePricing},"Calcular precio de alquiler")):r.default.createElement("div",null,this.state.step>=2&&null!=this.lastEarning&&this.props.hasPricing?r.default.createElement("div",null,this.pricingDetails()):r.default.createElement("img",{src:"https://s3.amazonaws.com/dressapp.public/logos/logo_rotating_small.gif",alt:""})))}}]),t}();t.default=(0,i.connect)(function(e,t){return console.log("Basics.mapStateToProps",e),{retail:e.basics.retail,ownerEarning:e.basics.ownerEarning,hasPricing:e.hasPricing,pricing:e.pricing}})(d)}}]);